{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/image-api.js","components/MyLoader/MyLoader.js","components/Modal/Modal.js","components/App/App.js","index.js"],"names":["Searchbar","state","query","handleInputChange","e","setState","target","value","handleFormSubmit","preventDefault","resetForm","props","getQuery","className","onSubmit","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","img","src","webformatURL","alt","tags","width","id","ImageGallery","searchResults","map","Button","handleButtonLoadMore","onClick","API_KEY","getPictures","page","a","axios","get","hits","data","defaults","baseURL","MyLoader","color","height","Modal","createPortal","document","getElementById","App","loader","fetchImages","imageApi","then","res","prevState","catch","err","console","log","scrollDown","finally","window","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","length","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.72a0d09b.chunk.js","sourcesContent":["import { Component } from 'react';\nimport './Searchbar.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleInputChange = e => {\n    this.setState({ query: e.target.value });\n  };\n\n  handleFormSubmit = e => {\n    e.preventDefault();\n    this.resetForm();\n    this.props.getQuery(this.state.query);\n  };\n\n  resetForm = () => {\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleFormSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            value={this.state.query}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleInputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import './ImageGalleryItem.css';\n\nexport default function ImageGalleryItem({ img }) {\n  return (\n    <li key={img.id} className=\"ImageGalleryItem\">\n      <img\n        src={img.webformatURL}\n        alt={img.tags}\n        width=\"300\"\n        className=\"ImageGalleryItem-image\"\n      />\n    </li>\n  );\n}\n","import ImageGalleryItem from '../ImageGalleryItem';\nimport './ImageGallery.css';\n\nexport default function ImageGallery({ searchResults }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {searchResults.map(img => {\n        return <ImageGalleryItem img={img} key={img.id} />;\n      })}\n    </ul>\n  );\n}\n","import './Button.css';\n\nexport default function Button({ handleButtonLoadMore }) {\n  return (\n    <button type=\"button\" className=\"button\" onClick={handleButtonLoadMore}>\n      Load more\n    </button>\n  );\n}\n","import axios from 'axios';\n\nconst API_KEY = '23192849-392e98e42aea5a2ff7de83472';\n\naxios.defaults.baseURL =\n  'https://pixabay.com/api/?image_type=photo&orientation=horizontal';\n\nexport default async function getPictures(query, page) {\n  const {\n    data: { hits },\n  } = await axios.get(`&q=${query}&page=${page}&per_page=12&key=${API_KEY}`);\n  return hits;\n}\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport './MyLoader.css';\n\nexport default function MyLoader() {\n  return (\n    <div className=\"myLoader\">\n      <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n    </div>\n  );\n}\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport './Modal.css';\n\nexport default class Modal extends Component {\n  render() {\n    return createPortal(\n      <div className=\"Overlay\">\n        <div className=\"Modal\">\n          <img src=\"\" alt=\"\" />\n        </div>\n      </div>,\n      document.getElementById('modalRoot'),\n    );\n  }\n}\n","import { Component } from 'react';\nimport './App.css';\nimport Searchbar from '../Searchbar';\nimport ImageGallery from '../ImageGallery';\nimport Button from '../Button';\nimport imageApi from '../../services/image-api';\nimport MyLoader from '../MyLoader';\nimport Modal from '../Modal';\n\nclass App extends Component {\n  state = {\n    query: '',\n    page: 1,\n    searchResults: [],\n    loader: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.fetchImages().finally(() => this.setState({ loader: false }));\n    }\n  }\n\n  fetchImages = () => {\n    this.setState({ loader: true });\n    return imageApi(this.state.query, this.state.page)\n      .then(res => {\n        this.setState(prevState => ({\n          page: prevState.page + 1,\n          searchResults: [...prevState.searchResults, ...res],\n        }));\n      })\n      .catch(err => console.log(err));\n  };\n\n  getQuery = value =>\n    this.setState({\n      query: value,\n      page: 1,\n      searchResults: [],\n    });\n\n  handleButtonLoadMore = () => {\n    this.fetchImages()\n      .then(() => this.scrollDown())\n      .finally(() => this.setState({ loader: false }));\n  };\n\n  scrollDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const { loader, searchResults, query } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar getQuery={this.getQuery} />\n        {/* {loader && <MyLoader/>} */}\n        {searchResults.length > 0 ? (\n          <ImageGallery searchResults={searchResults} />\n        ) : (\n          query !== '' && !loader && <p className=\"noResult\">No resultsðŸ˜Ÿ</p>\n        )}\n        {searchResults.length > 0 && !loader && (\n          <Button handleButtonLoadMore={this.handleButtonLoadMore} />\n        )}\n        {loader && <MyLoader />}\n        <Modal />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}